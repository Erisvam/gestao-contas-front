<div class="container">
  <div class="row mt-3 ms-0 ps-0 pe-0 container">
    <div class="card text-bg-light mb-3 p-0">
      <div class="card-header">
        <div class="row d-flex align-items-center ">
          <div class="col">
            <h4>Cartões</h4>
          </div>
          <div class="col d-flex justify-content-end ">
            <button class="btn btn-primary" routerLink="/cadastro-cartao">cadastrar</button>
          </div>
        </div>
      </div>
      <div class="card-body" *ngIf="cartaoResponse$ | async as cartaoResponse; else loadingError">
        <div class="card mb-3"  *ngFor="let cartao of cartaoResponse.cartoes" [routerLink]="['/detalhe-cartao', cartao.codigo]">
          <div class="card-body d-flex align-items-center justify-content-between">
            <h5 class="card-title me-2">{{ cartao.nome }}</h5>
            <h5 class="text-danger">{{ cartao.valor_total | currency }}</h5>
          </div>
        </div>
      </div>
      <ng-template #loadingError>
        <div *ngIf="errorCartoes$ | async; else loading">
          <div class="mb-3 mt-3">
            <div class="blockquote d-flex align-items-center flex-column">
              <span class="fw-semibold">Erro ao carregar os cartões</span>
              <button class="btn btn-outline-primary mt-3" (click)="onCarregarCartoes()">Tentar novamente</button>
            </div>
          </div>
        </div>
        <ng-template #loading>
          <spinner class="mt-4 mb-4"></spinner>
        </ng-template>
      </ng-template>
    </div>
    <!-- usuarios -->
    <div class="card text-bg-light mb-3 p-0">
      <div class="card-header">
        <div class="row d-flex align-items-center ">
          <div class="col">
            <h4>Usuários</h4>
          </div>
          <div class="col d-flex justify-content-end ">
            <button class="btn btn-primary" routerLink="/cadastro-usuario">usuários</button>
          </div>
        </div>
      </div>
      <div class="card-body" *ngIf="usuarioResponse$ | async as usuarioResponse; else loadingErrorUsuarios">
        <div class="card mb-3" *ngFor="let usuario of usuarioResponse.usuarios" [routerLink]="['/detalhe-usuario', usuario.id]">
          <div class="card-body d-flex align-items-center justify-content-between">
            <h5 class="card-title me-2">{{ usuario.nome }}</h5>
            <h5 class="text-danger">{{ usuario.valor_total | currency }}</h5>
          </div>
        </div>
      </div>
      <ng-template #loadingErrorUsuarios>
        <div *ngIf="errorUsuarios$ | async; else loadingUsuarios">
          <div class="mb-3 mt-3">
            <div class="blockquote d-flex align-items-center flex-column">
              <span class="fw-semibold">Erro ao carregar os usuários</span>
              <button class="btn btn-outline-primary mt-3" (click)="onCarregarUsuarios()">Tentar novamente</button>
            </div>
          </div>
        </div>
        <ng-template #loadingUsuarios>
          <spinner class="mt-4 mb-4"></spinner>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div>
